{% extends 'user/base.html' %}
{% load static %}

{% block body %}

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.0.1/css/buttons.dataTables.min.css">
	 <script src="https://code.jquery.com/jquery-3.5.1.js"> </script>
     <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"> </script>
     <script src="https://cdn.datatables.net/buttons/2.0.1/js/dataTables.buttons.min.js"> </script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"> </script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"> </script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"> </script>
     <script src="https://cdn.datatables.net/buttons/2.0.1/js/buttons.html5.min.js"> </script>
     <script src="https://cdn.datatables.net/buttons/2.0.1/js/buttons.print.min.js"> </script>
            <div class="row">
                <br>
                <div class="col-sm-10">
                    <div class="card-body">
                     <p id ="msg_data"> {{cr_data.majour.main_title}} - {{cr_data.sub.sub_title}} </p>
                     <p id ="title_data"> {{cr_data.criteria}} - {{cr_data.final_title}} </p>
                     </div>
                </div>
            </div>
             <script> $('title').html("report_{{cr_data.criteria}}");
             if(document.getElementById("title_data") != null){var sheet_title=document.getElementById("title_data").innerHTML;}
             if(document.getElementById("msg_data") != null){var sheet_msg=document.getElementById("msg_data").innerHTML;}
             console.log(sheet_title);
             console.log(sheet_msg);
              </script>

        <script type="text/javascript">

             $(document).ready(function() {
                $('#example').DataTable( {
                    dom: 'Bfrtip',
                    buttons: [
                        'copy', 'csv',
                             {
                                extend: 'excel',
                                title : sheet_title,
                                messageTop: sheet_msg
                            },
                      'print'
                    ]
                } );
            } );
        </script>
        <div class="row">
            <div class="col-sm-1">
            </div>
            <div class="col-sm-10">
                <br>

                    <div class="table-responsive">
                        <br>

                        {% block table %}

                        {% endblock %}
                    </div>
                    <br>
                     <p>Scroll right see full data </p>
            </div>
              <div class="col-sm-1">
            </div>

              <br>
        </div>

{% endblock %}
